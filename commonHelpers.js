import"./assets/scroll-up-7b06196d.js";import{a,l as f}from"./assets/vendor-27bc9ff5.js";a.defaults.headers.post["Content-Type"]="application/json";a.defaults.baseURL="https://books-backend.p.goit.global/";async function g(){return(await a.get("/books/top-books")).data}async function y(o){return(await a.get(`books/category?category=${o}`)).data}async function p(o){return(await a.get(`books/${o}`)).data}const S="https://books-backend.p.goit.global/books/",v="category-list";async function M(){try{const o=await a.get(S+v);if(o.status===200){const e=o.data,t=document.querySelector(".categories-list");e.map(n=>{const c=document.createElement("li");c.textContent=n.list_name,c.classList.add("categ-item"),t.appendChild(c)})}else Notiflix.Notify.failure(`Request execution error. Status code: ${o.status}`)}catch(o){Notiflix.Notify.failure("An error occurred while sending the request."),console.error("An error occurred while sending the request:",o)}}M();const d=document.querySelector(".books"),r=document.querySelector(".categories-list"),h=document.querySelector("#books-category-name"),i=document.querySelector(".modal-loading");C();async function C(){i.classList.remove("hidden");const o=await g(),e=L(o);d.insertAdjacentHTML("beforeend",e),i.classList.add("hidden")}function L(o){return o.map(e=>b(e.list_name,e.books,!1))}function b(o,e,t){let n=t?"":`
    <div class = "books-list-name" >${o}</div>`;n+=`<ul class="books-container ${t?"books-container-multi":""}">
                    ${I(e)}
                </ul>`;const c=t?"":`<button class = "books-btn" type = "button" id="${o}"> SEE MORE </button>`;return n+=c,n}function I(o){return o.map(e=>`<li class="book-block-two">
                <div data-book=${e._id} class="book-block">
                    <img src="${e.book_image}" class="book-pic" width=120 heigh=240 />
                    <p class="book-name">${e.title}</p>
                    <p class="book-author">${e.author}</p>
                </div>
         </li>`).join("")}r.addEventListener("click",async o=>{if(o.preventDefault(),o.target==r)return;const e=o.target.innerHTML;B(e)});async function B(o){i.classList.remove("hidden");for(const t of r.children)t.innerHTML!=o?t.classList.remove("is-active-item"):t.classList.add("is-active-item");let e=null;if(o=="All categories"){k("Best Sellers Books");const t=await g();e=L(t)}else{k(o);const t=await y(o);e=b(o,t,!0)}d.innerHTML=e,i.classList.add("hidden"),window.scrollTo({top:0,behavior:"smooth"})}function k(o){const e=o.split(" ");h.innerHTML=`<span class="dark-text">${e[0]}</span> ${e.slice(1).join(" ")}`}d.addEventListener("click",async o=>{if(o.target.classList.contains("books-btn")){const e=o.target.id;B(e)}});const R="data:image/png;base64,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",U="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAAUCAYAAADV9o4UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAATBSURBVHgBzVhZbJVVEJ5bqSxtBUQRFBtwQ6l7QQxoiLuJD6buxkSiNlGMUUF9MGgMKYn6Qowo0aAPSkSIWldcQuOLkYpCChgVF1AjWwGJgixd6PH7ON/PHW7/wg/tTZnky5w7Z2bOnG3O/DdnjkII54BNAvoDPwNLcrncP67/dLC+wGagDRir3/v00F+B9gSgBGj0trIfrH6Osw1ogk6T66f9KEunZug2O92RYOcDLcBK9G1yfYPATmaMkP+K31Uac40fj4rDgA+BtnAgJUaJ3ibJXwNWOr1VQDXwk5OtBUY42xpgW+hMLwA56VwVuqZnpVMKzAZaXB/jetCN9Yjrm1KgO8NPfK6Ee4F64D2n+IHTa5Zsfee4wuoU2UzZjQA2SsYFeQVY5/QmSG9siIuToNXpTJfOk07WAPyo9k5gnHQedzobCmLaDgxLJvQd0AG85Sb5jRT/TJn4FmA8cKtz+DdwDXC1fJHqZUfZrhAXdpRkNzvbaVZAkFUCu5MYgDKgj4uhUXr9gK2SzUuZOE/yUOALJ7uwDxVx7sfhR6mMjgPj8S5RDKXWmZbCZil0l6HdDtAP7+ti+dgKdmLiA/IGsAGQl4NzZ5grKp2/vgWTpj+etH4S3QMftLsY7aGSfSbfe7hJaN4A1MjWUx10NkO+AO1rJevvle4H7gUuskPTDg3KHdyDZnkiS2Iv4JzMGLCpwO1AxSH8P+bieBXjfKl2ldPZ7tpJ0isDBhX4Wi++2wtLFNQcsNkabD5wG9Bk2Sg5GcHJcl5Bx5s7VKtAeLSfSXMG3TPAntbP34AZrvsYS6f2lHj2u0wzSHb8PvF6rO5dCqDWslHI0He35Y92DcZgIryyk3LM7u9a3DlSLXQ3OpU/XLvMtQeKdwD/WgZKVudY8XUKgHfrPMnKU+7N4dKZrr1F/BInS549LvYFTv55iNmfzyd9LLf87k5SrMxBEyX7GgvVYhkomXiHOLM0d4eJYLhkvI8zrXvk72MdxngI/FEnY4bneOML7LgBp1g8kbzrzCNvqO8K2DwF/qLlF26OZaRkJ9+xmHSGyzETASc7VUE3WPfoZYBXiC/GFMmWAO8DDwCNlk8+yzTeaqDV4mm53sXK95w7fDZQ58aYBSy0jJRUTMeD3QKcqwAWsLSD/Ca016K9QnoMms/UcsgWSfawxUy6ArKPDqI3GmyyxRdglcXF3iXZ23quGMdOYK/Fe8sTydKWJ3I0c4N80ccdwKUWj/4nwCL0B/XzutwoP8/p9RmjOZJetyykAmSAFZkwxkhgFrDDFRv8BphoPUwlGfVYvX0bYg2cs+LRqcBXFouRy4AnLO78EOstwoRPA34Bfg+xXq60IhD8ngBMD7EcrtauV1lvEgIYCDwfYi3+H/AxcGd3FwH2FcBkYCErQYD55Sy+MMAaKwId0bFFMMyocy0ex4RYZbFm/gH4HmDAfzFpOTtmZn4n89u42uK3NxMU/bGPzxXL1XmqwRer/aYdTYTALgfmh/ip1xW1axdbQ/6rzRNl/LScBgxxvgcDLxUrp/SIU95Li0/FdRb/FeHR76ra45PD6o1V4qcW32z+g9OW4jeXPFE9TT2+mgiWLwUnfpLlMzIXgfXBBot/WzWrCus1+h99ImxEwPFdqwAAAABJRU5ErkJggg==",l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAgCAYAAACcuBHKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOBSURBVHgB7VdLaBRBEH3Vm2QUo1HxRwwSc0jUgx9UFBRB3Ysiinrw5FHPgiiK4E3EP3hSUMSj4kVQRMQcRESIYOIlgpIoYmJiovn4ySYzXdbO7uxOz28nEG+p0Dvd1a+737yq7p4A01YwSurku1YztL0VRAvAsARNSGssf8AENPdAZ9royHgnJkOCb1stTPqeTLMGU2bURVpl6chYd6gnROBmzQpW/Fq66ooeRHON8yfibKmtF1Xe+REqNITwRH7q3LFccJTr/hLnT8RVscZ9ZpO9QcK+UXOANTVKAaQEn16dA31xvkg8U4tzM7MrlgRxZjtiCHCADCLaUYSj+gg1u/3rVhkkNDe5SjFMq54Natoj6FnScIDhbvCXVhngewcZRku3AbObgEwN8OcbuL8N+NVrYPJzE+n6WBLSbUEHPBtPgdYeA6w5pr/vDfTTw8DIZ6C2ASp7C2jYZmJyQ+C2C+CO67I4l1/OoVo/zgiHtpXyy0eN+0CbzoYIuLZ4Ayh7B3nSau/DEAHXrLmgredFxYNGWLSmDGKV8LLZs1kNSDKq3wyuWwnMX5mIw4wlBQLGQnEkHCpB3BqnOAfmr66MyUdCk5cSZi4hQgnmMpG81JVpVFVEuHPmd4fnoKQZXMnIIFV5AaQAFef2pEgmoXwoTheOVBiUT063nZQThhKUSglMRgnPzM0RTEyYUqV5S50So+O7DRLM5tvTFCrBPrKUGA5WZrzSLKBTYIq7w9+MJ6EDCF+dx4aAga78wS93xLpojD0O/BDM32FgUTNo5rxiBwI5kZyYXBrkbZCv7dCPToN73krDKTjlOFabj0LtPFlSS7degX59Qwj8dIm6awlZtf96cWf4X848rAxhJs4seCaubGnm2oVyGw7lLxVExUbtOCU35QfQ3GXQL68FeotTy1cMZshHWm7E18fPq88NZiOVEB1GCylRnGBkIDypz3TrZaBxC7j9gTAKfaR5VEWd0eD4nL8RTMweTpNoJRYC/vhCKhn5FilrVbojAm3vKVH/BJNm2WytHpfil7oo98k+HwcwHHiSQ60IkCwLIe2JE4s6ZeIW/CdjUcG61LcccUrkeY47OCSUbXe7Tn0ZkWt8d5BYKJtqr/Z3/M6hWWTpmnxo4ov8djDRJutib+g/scSDP3d8yaoMYwPbVA/F1ZissRoncr47GfuVdWXwPaatgv0DKz/i8wlwU7gAAAAASUVORK5CYII=",s={coverModal:document.querySelector(".cover-modal"),modalCoverContent:document.querySelector(".modal-cover-content"),closeBtn:document.querySelector(".modal-btn-close"),addBtn:document.querySelector(".add"),removeBtn:document.querySelector(".remove"),openListBtn:document.querySelector(".open-list"),modalText:document.querySelector(".modal-add-text"),booksListElement:document.querySelector(".books"),body:document.querySelector("body")};s.booksListElement.addEventListener("click",o=>{let e=null;if(o.target.classList.contains("book-block"))e=o.target.dataset.book;else if(o.target.parentNode.classList.contains("book-block"))e=o.target.parentNode.dataset.book;else return;T(e)});async function T(o){try{const e=await p(o);s.modalCoverContent.dataset.selectedBookId=e._id,Y(e),E(),u(e._id)}catch(e){console.log(e)}}s.removeBtn.addEventListener("click",()=>{const o=s.modalCoverContent.dataset.selectedBookId;o&&V(o)});s.addBtn.addEventListener("click",async()=>{const o=s.modalCoverContent.dataset.selectedBookId;if(o){const e=await p(o);F(e)}});function Y(o){const e=`
                <img src="${o.book_image}" alt="book cover" class="modal-img">

                <div class="modal-contant-box">
                    <h2 class="modal-title">${o.title}</h2>
                    <h3 class="modal-book-author">${o.author}</h3>
                    <p class="modal-text">${o.description}</p>
                    <ul class="modal-list">
                        ${D(o.buy_links)}
                    </ul>
                </div>`;s.modalCoverContent.innerHTML=e}function D(o){return o.slice(0,2).map(e=>{let t=null;if(s.body.classList.contains("dark-theme"))switch(console.log("dark"),e.name){case"Amazon":{t=`${U}`;break}case"Apple Books":{t=`${l}`;break}default:t=`${l}`}else switch(e.name){case"Amazon":{t=`${R}`;break}case"Apple Books":{t=`${l}`;break}default:t=`${l}`}return`<li class="modal-item">

              <a href="${e.url}" target="_blank" rel="noopener noreferrer nofollow" class="modal-link">
              <img src=${t} alt=${e.name} class="modal-icon amazone-js"></a>
    </li>`}).join("")}function E(){s.coverModal.classList.add("visible-element"),s.body.classList.add("no-scroll"),document.addEventListener("keydown",f.throttle(A,500))}s.coverModal.addEventListener("click",o=>{(o.target.classList.contains("cover-modal")||o.target.classList.contains("modal-btn-close"))&&(s.coverModal.classList.remove("visible-element"),s.body.classList.remove("no-scroll"),document.removeEventListener("keydown",A))});function A(o){o.key==="Escape"&&(s.coverModal.classList.remove("visible-element"),document.removeEventListener("keydown",A))}function F(o){const e=m();e.some(n=>n._id===o._id)||(e.push(o),w(e)),u(o._id)}function m(){return JSON.parse(localStorage.getItem("booksInList"))??[]}function w(o){localStorage.setItem("booksInList",JSON.stringify(o))}function u(o){m().some(n=>n._id===o)?(s.addBtn.style.display="none",s.removeBtn.style.display="block",s.modalText.style.display="block"):(s.addBtn.style.display="block",s.removeBtn.style.display="none",s.modalText.style.display="none")}function V(o){const t=m().filter(n=>n._id!==o);w(t),u(o)}
//# sourceMappingURL=commonHelpers.js.map
