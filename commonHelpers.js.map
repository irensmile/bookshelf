{"version":3,"file":"commonHelpers.js","sources":["../src/js/books-api.js","../src/js/category.js","../src/js/books.js","../src/images/amazon.png","../src/images/amazon-darck.png","../src/images/apple.png","../src/js/popup.js"],"sourcesContent":["import axios from \"axios\";\naxios.defaults.headers.post['Content-Type'] = 'application/json';\naxios.defaults.baseURL = 'https://books-backend.p.goit.global/';\n\nexport async function getTopBooks() {\n    const response = await axios.get('/books/top-books');\n    return response.data\n}\n\nexport async function getBooksByCategory(category) {\n    const response = await axios.get(`books/category?category=${category}`);\n    return response.data\n}\n\nexport async function getbookDetais(bookId) {\n    const response = await axios.get(`books/${bookId}`);\n    return response.data\n}\n","import axios from 'axios';\n\nconst BASE_URL = 'https://books-backend.p.goit.global/books/';\nconst endpointList = 'category-list';\n\nasync function fetchCategories() {\n    try {\n      \n      const response = await axios.get(BASE_URL + endpointList);\n    \n      if (response.status === 200) {\n        const categories = response.data; \n        const categoriesList = document.querySelector('.categories-list');\n\n        categories.map(category => {\n          const li = document.createElement('li');\n          li.textContent = category.list_name;\n          li.classList.add('categ-item'); \n          categoriesList.appendChild(li);\n        });\n      } else {\n        Notiflix.Notify.failure(`Request execution error. Status code: ${response.status}`);\n      }\n    } catch (error) {\n        Notiflix.Notify.failure('An error occurred while sending the request.');\n        console.error('An error occurred while sending the request:', error);\n    }\n  }\n  \n  fetchCategories();","import { getTopBooks, getBooksByCategory } from './books-api';\nconst list = document.querySelector('.books');\nconst categoryList = document.querySelector('.categories-list');\nconst booksCategoryName = document.querySelector('#books-category-name');\nconst modalLoading = document.querySelector('.modal-loading');\n\n// Завантаження даних перенесено в books-api.js\n// Ця функція буде викликана при початовому завантаженні сторінки для заповнення Top Books\nloadOnStartup();\n\nasync function loadOnStartup() {\n  modalLoading.classList.remove('hidden');\n  // Функція оголошена, як асинхронна, так як ми маємо дочекатися завантаження даних.\n  const booksData = await getTopBooks();\n  // після одержання даних викликаємо функцію, яка генерує html розмітка\n  const markup = categoriesMarkup(booksData);\n  list.insertAdjacentHTML('beforeend', markup);\n  modalLoading.classList.add('hidden');\n}\n\nfunction categoriesMarkup(data) {\n  // Функція створює розмітку для одержаних категорій\n  // Далі для кожної категорії викликаємо функцію розмітки для книг (booksMarkup)\n  return data.map(res => {\n    return singleCategoryMarkup(res.list_name, res.books, false);\n  });\n}\n\nfunction singleCategoryMarkup(categoryName, books, isSingleCategory) {\n  let markup = !isSingleCategory\n    ? `\n    <div class = \"books-list-name\" >${categoryName}</div>`\n    : '';\n  markup += `<ul class=\"books-container ${\n    isSingleCategory ? 'books-container-multi' : ''\n  }\">\n                    ${booksMarkup(books)}\n                </ul>`;\n  const buttonMarkup = !isSingleCategory\n    ? `<button class = \"books-btn\" type = \"button\" id=\"${categoryName}\"> SEE MORE </button>`\n    : '';\n  markup += buttonMarkup;\n  return markup;\n}\n\nfunction booksMarkup(books) {\n  // Функція створює розмітку для списку книг\n  return books\n    .map(book => {\n      return `<li class=\"book-block-two\">\n                <div data-book=${book._id} class=\"book-block\">\n                    <img src=\"${book.book_image}\" class=\"book-pic\" width=120 heigh=240 />\n                    <p class=\"book-name\">${book.title}</p>\n                    <p class=\"book-author\">${book.author}</p>\n                </div>\n         </li>`;\n    })\n    .join('');\n}\n\n// Обробник кліку на категорії - завантажуємо книги для категорії і виділяємо акитивну категорію\ncategoryList.addEventListener('click', async e => {\n  e.preventDefault();\n\n  if (e.target == categoryList) {\n    // Натиснули на список, а не на елемент (між елементами), ігноруємо\n    return;\n  }\n  const selectedCategory = e.target.innerHTML;\n  reloadBooksForCategory(selectedCategory);\n});\n\nasync function reloadBooksForCategory(selectedCategory) {\n  modalLoading.classList.remove('hidden');\n  for (const child of categoryList.children)\n    if (child.innerHTML != selectedCategory)\n      child.classList.remove('is-active-item');\n    else child.classList.add('is-active-item');\n\n  let markup = null;\n  if (selectedCategory == 'All categories') {\n    populateCategoryHeader('Best Sellers Books');\n    const data = await getTopBooks();\n    markup = categoriesMarkup(data);\n  } else {\n    populateCategoryHeader(selectedCategory);\n    const data = await getBooksByCategory(selectedCategory);\n    markup = singleCategoryMarkup(selectedCategory, data, true);\n  }\n  list.innerHTML = markup;\n  modalLoading.classList.add('hidden');\n  window.scrollTo({ top: 0, behavior: 'smooth' });\n}\n\nfunction populateCategoryHeader(categoryName) {\n  // Update categories header (h1) with selected category name\n  const words = categoryName.split(' ');\n  booksCategoryName.innerHTML = `<span class=\"dark-text\">${\n    words[0]\n  }</span> ${words.slice(1).join(' ')}`;\n}\n\nlist.addEventListener('click', async event => {\n  // Тільки коли клікнули на кнопці, завантажуємо книги цієї категорії\n  if (event.target.classList.contains('books-btn')) {\n    const selectedCategory = event.target.id;\n    reloadBooksForCategory(selectedCategory);\n  }\n});\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAAUCAYAAADV9o4UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAATBSURBVHgBzVhZbJVVEJ5bqSxtBUQRFBtwQ6l7QQxoiLuJD6buxkSiNlGMUUF9MGgMKYn6Qowo0aAPSkSIWldcQuOLkYpCChgVF1AjWwGJgixd6PH7ON/PHW7/wg/tTZnky5w7Z2bOnG3O/DdnjkII54BNAvoDPwNLcrncP67/dLC+wGagDRir3/v00F+B9gSgBGj0trIfrH6Osw1ogk6T66f9KEunZug2O92RYOcDLcBK9G1yfYPATmaMkP+K31Uac40fj4rDgA+BtnAgJUaJ3ibJXwNWOr1VQDXwk5OtBUY42xpgW+hMLwA56VwVuqZnpVMKzAZaXB/jetCN9Yjrm1KgO8NPfK6Ee4F64D2n+IHTa5Zsfee4wuoU2UzZjQA2SsYFeQVY5/QmSG9siIuToNXpTJfOk07WAPyo9k5gnHQedzobCmLaDgxLJvQd0AG85Sb5jRT/TJn4FmA8cKtz+DdwDXC1fJHqZUfZrhAXdpRkNzvbaVZAkFUCu5MYgDKgj4uhUXr9gK2SzUuZOE/yUOALJ7uwDxVx7sfhR6mMjgPj8S5RDKXWmZbCZil0l6HdDtAP7+ti+dgKdmLiA/IGsAGQl4NzZ5grKp2/vgWTpj+etH4S3QMftLsY7aGSfSbfe7hJaN4A1MjWUx10NkO+AO1rJevvle4H7gUuskPTDg3KHdyDZnkiS2Iv4JzMGLCpwO1AxSH8P+bieBXjfKl2ldPZ7tpJ0isDBhX4Wi++2wtLFNQcsNkabD5wG9Bk2Sg5GcHJcl5Bx5s7VKtAeLSfSXMG3TPAntbP34AZrvsYS6f2lHj2u0wzSHb8PvF6rO5dCqDWslHI0He35Y92DcZgIryyk3LM7u9a3DlSLXQ3OpU/XLvMtQeKdwD/WgZKVudY8XUKgHfrPMnKU+7N4dKZrr1F/BInS549LvYFTv55iNmfzyd9LLf87k5SrMxBEyX7GgvVYhkomXiHOLM0d4eJYLhkvI8zrXvk72MdxngI/FEnY4bneOML7LgBp1g8kbzrzCNvqO8K2DwF/qLlF26OZaRkJ9+xmHSGyzETASc7VUE3WPfoZYBXiC/GFMmWAO8DDwCNlk8+yzTeaqDV4mm53sXK95w7fDZQ58aYBSy0jJRUTMeD3QKcqwAWsLSD/Ca016K9QnoMms/UcsgWSfawxUy6ArKPDqI3GmyyxRdglcXF3iXZ23quGMdOYK/Fe8sTydKWJ3I0c4N80ccdwKUWj/4nwCL0B/XzutwoP8/p9RmjOZJetyykAmSAFZkwxkhgFrDDFRv8BphoPUwlGfVYvX0bYg2cs+LRqcBXFouRy4AnLO78EOstwoRPA34Bfg+xXq60IhD8ngBMD7EcrtauV1lvEgIYCDwfYi3+H/AxcGd3FwH2FcBkYCErQYD55Sy+MMAaKwId0bFFMMyocy0ex4RYZbFm/gH4HmDAfzFpOTtmZn4n89u42uK3NxMU/bGPzxXL1XmqwRer/aYdTYTALgfmh/ip1xW1axdbQ/6rzRNl/LScBgxxvgcDLxUrp/SIU95Li0/FdRb/FeHR76ra45PD6o1V4qcW32z+g9OW4jeXPFE9TT2+mgiWLwUnfpLlMzIXgfXBBot/WzWrCus1+h99ImxEwPFdqwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAgCAYAAACcuBHKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOBSURBVHgB7VdLaBRBEH3Vm2QUo1HxRwwSc0jUgx9UFBRB3Ysiinrw5FHPgiiK4E3EP3hSUMSj4kVQRMQcRESIYOIlgpIoYmJiovn4ySYzXdbO7uxOz28nEG+p0Dvd1a+737yq7p4A01YwSurku1YztL0VRAvAsARNSGssf8AENPdAZ9royHgnJkOCb1stTPqeTLMGU2bURVpl6chYd6gnROBmzQpW/Fq66ooeRHON8yfibKmtF1Xe+REqNITwRH7q3LFccJTr/hLnT8RVscZ9ZpO9QcK+UXOANTVKAaQEn16dA31xvkg8U4tzM7MrlgRxZjtiCHCADCLaUYSj+gg1u/3rVhkkNDe5SjFMq54Natoj6FnScIDhbvCXVhngewcZRku3AbObgEwN8OcbuL8N+NVrYPJzE+n6WBLSbUEHPBtPgdYeA6w5pr/vDfTTw8DIZ6C2ASp7C2jYZmJyQ+C2C+CO67I4l1/OoVo/zgiHtpXyy0eN+0CbzoYIuLZ4Ayh7B3nSau/DEAHXrLmgredFxYNGWLSmDGKV8LLZs1kNSDKq3wyuWwnMX5mIw4wlBQLGQnEkHCpB3BqnOAfmr66MyUdCk5cSZi4hQgnmMpG81JVpVFVEuHPmd4fnoKQZXMnIIFV5AaQAFef2pEgmoXwoTheOVBiUT063nZQThhKUSglMRgnPzM0RTEyYUqV5S50So+O7DRLM5tvTFCrBPrKUGA5WZrzSLKBTYIq7w9+MJ6EDCF+dx4aAga78wS93xLpojD0O/BDM32FgUTNo5rxiBwI5kZyYXBrkbZCv7dCPToN73krDKTjlOFabj0LtPFlSS7degX59Qwj8dIm6awlZtf96cWf4X848rAxhJs4seCaubGnm2oVyGw7lLxVExUbtOCU35QfQ3GXQL68FeotTy1cMZshHWm7E18fPq88NZiOVEB1GCylRnGBkIDypz3TrZaBxC7j9gTAKfaR5VEWd0eD4nL8RTMweTpNoJRYC/vhCKhn5FilrVbojAm3vKVH/BJNm2WytHpfil7oo98k+HwcwHHiSQ60IkCwLIe2JE4s6ZeIW/CdjUcG61LcccUrkeY47OCSUbXe7Tn0ZkWt8d5BYKJtqr/Z3/M6hWWTpmnxo4ov8djDRJutib+g/scSDP3d8yaoMYwPbVA/F1ZissRoncr47GfuVdWXwPaatgv0DKz/i8wlwU7gAAAAASUVORK5CYII=\"","// =====================Логика открыть/закрыть модалку===========================\nimport amazonLogo from '../images/amazon.png';\nimport amazonDarkLogo from '../images/amazon-darck.png';\nimport appleBooksLogo from '../images/apple.png';\nimport { throttle } from 'lodash';\nimport { getbookDetais } from './books-api';\n\nconst elements = {\n  coverModal: document.querySelector('.cover-modal'),\n  modalCoverContent: document.querySelector('.modal-cover-content'),\n  closeBtn: document.querySelector('.modal-btn-close'),\n  addBtn: document.querySelector('.add'),\n  removeBtn: document.querySelector('.remove'),\n  openListBtn: document.querySelector('.open-list'),\n  modalText: document.querySelector('.modal-add-text'),\n  booksListElement: document.querySelector('.books'),\n  body: document.querySelector('body'),\n};\n\nelements.booksListElement.addEventListener('click', event => {\n  let cardBookId = null;\n  if (event.target.classList.contains('book-block'))\n    cardBookId = event.target.dataset.book;\n  else if (event.target.parentNode.classList.contains('book-block'))\n    cardBookId = event.target.parentNode.dataset.book;\n  else return;\n\n  getBookInfo(cardBookId);\n});\n\nasync function getBookInfo(id) {\n  try {\n    const bookData = await getbookDetais(id);\n\n    elements.modalCoverContent.dataset.selectedBookId = bookData._id;\n    markupModal(bookData);\n    openModl();\n    changeTextBtn(bookData._id);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nelements.removeBtn.addEventListener('click', () => {\n  const selectedBookId = elements.modalCoverContent.dataset.selectedBookId;\n  if (selectedBookId) removeBookFromList(selectedBookId);\n});\n\nelements.addBtn.addEventListener('click', async () => {\n  const selectedBookId = elements.modalCoverContent.dataset.selectedBookId;\n  if (selectedBookId) {\n    // Нераціонально ще раз завантажувати інформацію про книгу тут\n    // Треба переробити логіку, щоб в local storage зберігати тільки id книги, а не всю інформацію\n    const bookData = await getbookDetais(selectedBookId);\n    addBookToList(bookData);\n  }\n});\n\nfunction markupModal(data) {\n  const content = `\n                <img src=\"${\n                  data.book_image\n                }\" alt=\"book cover\" class=\"modal-img\">\n\n                <div class=\"modal-contant-box\">\n                    <h2 class=\"modal-title\">${data.title}</h2>\n                    <h3 class=\"modal-book-author\">${data.author}</h3>\n                    <p class=\"modal-text\">${data.description}</p>\n                    <ul class=\"modal-list\">\n                        ${markupBuyLinks(data.buy_links)}\n                    </ul>\n                </div>`;\n\n  elements.modalCoverContent.innerHTML = content;\n}\n\nfunction markupBuyLinks(buyLinks) {\n  return buyLinks.slice(0, 2)\n    .map(buyLink => {\n      let sellerLogo = null;\n      if (elements.body.classList.contains('dark-theme')) {\n        console.log('dark');\n        switch (buyLink.name) {\n          case 'Amazon': {\n            sellerLogo = `${amazonDarkLogo}`;\n            break;\n          }\n          case 'Apple Books': {\n            sellerLogo = `${appleBooksLogo}`;\n            break;\n          }\n          default: {\n            sellerLogo = `${appleBooksLogo}`;\n          }\n        }\n      } else {\n        switch (buyLink.name) {\n          case 'Amazon': {\n            sellerLogo = `${amazonLogo}`;\n            break;\n          }\n          case 'Apple Books': {\n           sellerLogo = `${appleBooksLogo}`;\n            break;\n          }\n          default: {\n            sellerLogo = `${appleBooksLogo}`;\n          }\n        }\n      }\n\n      return `<li class=\"modal-item\">\n\n              <a href=\"${buyLink.url}\" target=\"_blank\" rel=\"noopener noreferrer nofollow\" class=\"modal-link\">\n              <img src=${sellerLogo} alt=${buyLink.name} class=\"modal-icon amazone-js\"></a>\n    </li>`;\n    })\n    .join('');\n}\n\nfunction openModl() {\n  elements.coverModal.classList.add('visible-element');\n\n  elements.body.classList.add('no-scroll');\n\n  document.addEventListener('keydown', throttle(escCloseModal, 500));\n}\n\nelements.coverModal.addEventListener('click', e => {\n  if (\n    e.target.classList.contains('cover-modal') ||\n    e.target.classList.contains('modal-btn-close')\n  ) {\n    elements.coverModal.classList.remove('visible-element');\n    elements.body.classList.remove('no-scroll');\n    document.removeEventListener('keydown', escCloseModal);\n  }\n});\n\nfunction escCloseModal(e) {\n  if (e.key === 'Escape') {\n    elements.coverModal.classList.remove('visible-element');\n    document.removeEventListener('keydown', escCloseModal);\n  }\n}\n\nfunction addBookToList(book) {\n  const booksInList = getBooksInList();\n  const isBookInList = booksInList.some(\n    existingBook => existingBook._id === book._id\n  );\n  if (!isBookInList) {\n    booksInList.push(book);\n    saveBooksInList(booksInList);\n  }\n\n  changeTextBtn(book._id);\n}\n\nfunction getBooksInList() {\n  return JSON.parse(localStorage.getItem('booksInList')) ?? [];\n}\n\nfunction saveBooksInList(booksInList) {\n  localStorage.setItem('booksInList', JSON.stringify(booksInList));\n}\n\nfunction changeTextBtn(id) {\n  const booksInList = getBooksInList();\n  const isBookInList = booksInList.some(book => book._id === id);\n\n  if (isBookInList) {\n    elements.addBtn.style.display = 'none';\n    elements.removeBtn.style.display = 'block';\n    elements.modalText.style.display = 'block';\n  } else {\n    elements.addBtn.style.display = 'block';\n    elements.removeBtn.style.display = 'none';\n    elements.modalText.style.display = 'none';\n  }\n}\n\nfunction removeBookFromList(id) {\n  const booksInList = getBooksInList();\n  const updatedBooksList = booksInList.filter(book => book._id !== id);\n  saveBooksInList(updatedBooksList);\n\n  changeTextBtn(id);\n}\n"],"names":["axios","getTopBooks","getBooksByCategory","category","getbookDetais","bookId","BASE_URL","endpointList","fetchCategories","response","categories","categoriesList","li","error","list","categoryList","booksCategoryName","modalLoading","loadOnStartup","booksData","markup","categoriesMarkup","data","res","singleCategoryMarkup","categoryName","books","isSingleCategory","booksMarkup","buttonMarkup","book","e","selectedCategory","reloadBooksForCategory","child","populateCategoryHeader","words","event","amazonLogo","amazonDarkLogo","appleBooksLogo","elements","cardBookId","getBookInfo","id","bookData","markupModal","openModl","changeTextBtn","selectedBookId","removeBookFromList","addBookToList","content","markupBuyLinks","buyLinks","buyLink","sellerLogo","throttle","escCloseModal","booksInList","getBooksInList","existingBook","saveBooksInList","updatedBooksList"],"mappings":"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"}